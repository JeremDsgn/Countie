From 6f45b2ab6bf335060241f21b77e74395c17d285d Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?J=C3=A9r=C3=A9my=20Barbet?= <jeremgraph@gmail.com>
Date: Mon, 25 Dec 2017 17:32:51 +0000
Subject: [PATCH] Fix assets

---
 react.gradle | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

diff --git a/react.gradle b/react.gradle
index 109b0dab9..eec0dec20 100644
--- a/react.gradle
+++ b/react.gradle
@@ -68,6 +68,23 @@ gradle.projectsEvaluated {
                     resourcesDir.mkdirs()
                 }
 
+                // Fix assets folder
+                doLast {
+                    def moveFunc = { resSuffix ->
+                        File originalDir = file("${resourcesDir}/drawable-${resSuffix}")
+                        if (originalDir.exists()) {
+                            File destDir = file("${resourcesDir}/drawable-${resSuffix}-v4")
+                            ant.move(file: originalDir, tofile: destDir)
+                        }
+                    }
+                    moveFunc.curry("ldpi").call()
+                    moveFunc.curry("mdpi").call()
+                    moveFunc.curry("hdpi").call()
+                    moveFunc.curry("xhdpi").call()
+                    moveFunc.curry("xxhdpi").call()
+                    moveFunc.curry("xxxhdpi").call()
+                }
+
                 // Set up inputs and outputs so gradle can cache the result
                 inputs.files fileTree(dir: reactRoot, excludes: inputExcludes)
                 outputs.dir jsBundleDir
-- 
2.14.2

